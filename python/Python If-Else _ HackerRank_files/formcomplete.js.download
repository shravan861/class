/*! For license information please see formcomplete.js.LICENSE.txt */
(()=>{var t={633:(t,e,r)=>{var n=r(738).default;function o(){"use strict";t.exports=o=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function p(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof E?e:E,i=Object.create(o.prototype),a=new D(n||[]);return s(i,"_invoke",{value:O(t,r,a)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",y="suspendedYield",v="executing",g="completed",b={};function E(){}function w(){}function _(){}var S={};p(S,c,(function(){return this}));var T=Object.getPrototypeOf,A=T&&T(T(L([])));A&&A!==i&&a.call(A,c)&&(S=A);var C=_.prototype=E.prototype=Object.create(S);function F(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,s,u){var c=h(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function O(t,r,n){var o=m;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=I(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=h(t,r,n);if("normal"===c.type){if(o=n.done?g:y,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,s(C,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,p(t,f,"GeneratorFunction")),t.prototype=Object.create(C),t},r.awrap=function(t){return{__await:t}},F(x.prototype),p(x.prototype,l,(function(){return this})),r.AsyncIterator=x,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new x(d(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},F(C),p(C,f,"Generator"),p(C,c,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},756:(t,e,r)=>{var n=r(633)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function h(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function m(t){var e=new FileReader,r=h(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var r;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&(r=t)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(o)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,r,n,o,i=d(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,r=h(e=new FileReader),o=(n=/charset=([A-Za-z0-9_-]+)/.exec(t.type))?n[1]:"utf-8",e.readAsText(t,o),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=c(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=l(e)},p.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),f(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,r){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,i=(r=r||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",!r.headers&&this.headers||(this.headers=new p(r.headers)),this.method=(o=(n=r.method||this.method||"GET").toUpperCase(),g.indexOf(o)>-1?o:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==r.cache&&"no-cache"!==r.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function w(t,e){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var _=[301,302,303,307,308];w.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})};var S=t.DOMException;try{new S}catch(t){(S=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function T(e,r){return new Promise((function(n,i){var s=new b(e,r);if(s.signal&&s.signal.aborted)return i(new S("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}if(u.onload=function(){var t,e,r={statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();try{e.append(n,o)}catch(t){console.warn("Response "+t.message)}}})),e)};0===s.url.indexOf("file://")&&(u.status<200||u.status>599)?r.status=200:r.status=u.status,r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;setTimeout((function(){n(new w(o,r))}),0)},u.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){i(new S("Aborted","AbortError"))}),0)},u.open(s.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":a&&(u.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof p||t.Headers&&r.headers instanceof t.Headers)){var d=[];Object.getOwnPropertyNames(r.headers).forEach((function(t){d.push(c(t)),u.setRequestHeader(t,l(r.headers[t]))})),s.headers.forEach((function(t,e){-1===d.indexOf(e)&&u.setRequestHeader(e,t)}))}else s.headers.forEach((function(t,e){u.setRequestHeader(e,t)}));s.signal&&(s.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",f)}),u.send(void 0===s._bodyInit?null:s._bodyInit)}))}T.polyfill=!0,t.fetch||(t.fetch=T,t.Headers=p,t.Request=b,t.Response=w)})(),(()=>{"use strict";function t(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,u,"next",e)}function u(e){t(a,o,i,s,u,"throw",e)}s(void 0)}))}}var n,o,i=r(756),a=r.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}function c(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l={FORM_COMPLETE_BASE_URL:null!==(n=window)&&void 0!==n&&null!==(n=n.location)&&void 0!==n&&null!==(n=n.hostname)&&void 0!==n&&null!==(o=n.includes)&&void 0!==o&&o.call(n,"zoominfo.com")?"https://ws.zoominfo.com/formcomplete-internal":"https://ws.zoominfo.com/formcomplete-v2",SCHEDULE_URL:"https://schedule.zoominfo.com/zischedule.js",MILLISECONDS_BETWEEN_CHAR_INPUT:150,HIDDEN_INPUT_NAME:"fc-full-response",USER_TYED_INPUT_DATA_ATTRIBUTE:"data-hasusertyped",SELECT_ELEMENT_NAME:"SELECT",LIFE_CYCLE_METHODS:{ON_MATCH:"onMatch",ON_REQUEST_SENT:"onRequestSent",ON_READY:"onReady"}},f=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_zi.development&&(window.ZILogs.fc.info+="[ZoomInfo FormComplete]-[".concat((new Date).toISOString(),"] ").concat(t,": ").concat(e," -data-").concat(r))},p=function(t){window.ZILogs.fc.err+="[ZoomInfo FormComplete] - ".concat(t)};function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const m={getUserMapping:function(t){return g.apply(this,arguments)},getFormCompleteDataByEmail:function(t,e,r,n,o){return b.apply(this,arguments)},getNeverbounceStatus:function(t,e){return E.apply(this,arguments)},sendMatchedAndUserInputData:function(t,e){return w.apply(this,arguments)},checkScheduleEntitlement:function(t){return y.apply(this,arguments)},getPageForms:function(t){return v.apply(this,arguments)},makeRequest:S,getCookieValue:T,errorHandler:function(t,e){return _.apply(this,arguments)}};function y(){return(y=e(a().mark((function t(e){var r,n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.FORM_COMPLETE_BASE_URL,n="formId=".concat(e),o="".concat(r,"/entitlementCheck?").concat(n),t.next=5,S("GET",o);case 5:return i=t.sent,t.abrupt("return",i?JSON.parse(i):{});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=e(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(l.FORM_COMPLETE_BASE_URL,"/forms"),n={method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(e.projectKey)},body:JSON.stringify({url:e.url})},t.abrupt("return",fetch(r,n).then((function(t){if(t.ok)return t.json();throw new Error("Error fetching forms data: ".concat(t.status," - ").concat(t.statusText))})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=e(a().mark((function t(e){var r,n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.FORM_COMPLETE_BASE_URL,n="formId=".concat(e),o="".concat(r,"/getMapping?").concat(n),t.next=5,S("GET",o,["visitorId","_zitok"]);case 5:return i=t.sent,t.abrupt("return",i?JSON.parse(i):{});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=e(a().mark((function t(e,r,n,o,i){var s,u,c,p,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(e,"Match Service  - Start"),s=_zi.development||i?"/match-dev":"/match",u=l.FORM_COMPLETE_BASE_URL+s,c={},["visitorId","_zitok"].forEach((function(t){c[t]=T(t)})),p={method:"POST",cache:"no-cache",credentials:"include",headers:h({"Content-Type":"application/json"},c),body:JSON.stringify({email:e,formId:r,formMatchId:n,originUrl:o})},t.next=10,fetch(u,p);case 10:if(!(d=t.sent).ok){t.next=13;break}return t.abrupt("return",d.json());case 13:return t.abrupt("return",{});case 16:return t.prev=16,t.t0=t.catch(0),f(e,"Match Service - Failed.",t.t0),t.abrupt("return",{});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function E(){return(E=e(a().mark((function t(e,r){var n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.FORM_COMPLETE_BASE_URL,o="".concat(n,"/getNeverbounce"),i={method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,formId:r})},t.abrupt("return",fetch(o,i).then((function(t){if(t.ok)return t.json();throw new Error("Error fetching Neverbounce data: ".concat(t.status," - ").concat(t.statusText))})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=e(a().mark((function t(e,r){var n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(l.FORM_COMPLETE_BASE_URL,"/submission/").concat(r),o={},["visitorId","_zitok"].forEach((function(t){o[t]=T(t)})),i={method:"POST",cache:"no-cache",credentials:"include",headers:h({"Content-Type":"application/json"},o),body:e},t.next=7,fetch(n,i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=e(a().mark((function t(e,r){var n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(l.FORM_COMPLETE_BASE_URL,"/logError"),r._zitok=T("_zitok"),o={method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(e)},body:JSON.stringify(r)},t.next=5,fetch(n,o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e,r){return new Promise((function(n,o){var i=new XMLHttpRequest;i.open(t,e),null!=r&&r.length&&r.forEach((function(t){i.setRequestHeader(t,T(t))})),i.withCredentials=!0,i.onload=function(){this.status>=200&&this.status<300?n(i.response):o({status:this.status,statusText:i.statusText})},i.onerror=function(){o({status:this.status,statusText:i.statusText})},i.send()}))}function T(t){try{var e,r=document.cookie;if(!r)return"";var n=r.split("".concat(t,"="));return(null==n||null===(e=n[1])||void 0===e||null===(e=e.split(";"))||void 0===e?void 0:e[0])||""}catch(t){return""}}const A={getUserMapping:function(t){return m.getUserMapping(t)},getFormCompleteDataByEmail:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)return null;var o=window.location.href.split("?")[0];return m.getFormCompleteDataByEmail(t,e,r,o,n)||{}},getNeverbounceStatus:function(t,e){return m.getNeverbounceStatus(t,e)},sendMatchedAndUserInputData:function(t,e,r,n,o,i,a){return C.apply(this,arguments)},checkScheduleEntitlement:function(t){return m.checkScheduleEntitlement(t)},getPageForms:function(t){return m.getPageForms(t)},errorHandler:function(t,e){return m.errorHandler(t,e)}};function C(){return(C=e(a().mark((function t(e,r,n,o,i,s,u){var c,l,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=window.location.href,l=c.split("?")[0],f={email:e,formMatchId:r,originUrl:l,formCompleteData:n,userData:o,isAbandoned:s,neverbounceStatus:u},t.next=5,m.sendMatchedAndUserInputData(JSON.stringify(f),i);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}var x,O,I=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"ziConfig",void 0),c(this,"forms",[]),c(this,"form",void 0),c(this,"userMapping",void 0),c(this,"inputTriggerCustomEvent",void 0),c(this,"typingTimeoutId",void 0),c(this,"formMatchId",void 0),c(this,"formCompleteVal",void 0),c(this,"formCompleteData",void 0),c(this,"entitlement",void 0),c(this,"unifiedScriptEnabled",void 0),c(this,"neverBounceStatus",void 0),c(this,"targetForm",void 0),c(this,"userFormData",{})},r=[{key:"init",value:(f=e(a().mark((function t(e,r){var n,o,i,s,u,c=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.unifiedScriptEnabled=window._zi_fc.unifiedScriptEnabled,this.ziConfig=e,this.userMapping=r,this.inputTriggerCustomEvent=e.inputTriggerCustomEvent,o=isNaN(window._zi.formLoadTimeout)?null:parseInt(window._zi.formLoadTimeout),this.unifiedScriptEnabled&&null!==(n=this.ziConfig)&&void 0!==n&&null!==(n=n.additionalSettings)&&void 0!==n&&n.formLoadTimeout&&(o=isNaN(this.ziConfig.additionalSettings.formLoadTimeout)?null:parseInt(this.ziConfig.additionalSettings.formLoadTimeout)),i=100,s=Date.now()+o,this.unifiedScriptEnabled||this.checkScheduleEntitlement(this.ziConfig.formId),this.forms=this.selectUserForm(),this.forms&&0!==this.forms.length&&(!this.forms||0!==this.forms[0].length)||!o){t.next=14;break}return t.next=13,this.waitForFieldOrForm(s,i);case 13:this.forms=t.sent;case 14:if(this.forms&&0!==this.forms.length){t.next=18;break}if(!this.unifiedScriptEnabled){t.next=17;break}return t.abrupt("return");case 17:return t.abrupt("return",p("Form ".concat(this.userMapping.selector," was not found in the document. Make sure the form element is loaded before the FormComplete script and that it is mapped correctly at the FormComplete Management page.")));case 18:if(!this.unifiedScriptEnabled){t.next=26;break}return null!=r&&null!==(u=r.inputs)&&void 0!==u&&u.length&&this.hideOrShowElements(l.LIFE_CYCLE_METHODS.ON_READY,{},this.getFormMapping()),t.next=22,A.getUserMapping(e.formId);case 22:if(this.userMapping=t.sent,this.userMapping&&Object.keys(this.userMapping).length){t.next=25;break}return t.abrupt("return");case 25:this.triggerLifeCycleMethods(l.LIFE_CYCLE_METHODS.ON_READY,this.userMapping,this.getFormMapping());case 26:this.forms.forEach((function(t){return c.initForms(t,s,i,o)}));case 27:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"updateUserFormData",value:function(t,e,r){var n=this;this.userMapping.inputs.map((function(o){t.target[o.attrSelector||"name"]===o.nameAttr&&(n.userFormData[t.target[o.attrSelector||"name"]]||(n.userFormData[t.target[o.attrSelector||"name"]]={}),e&&(n.userFormData[t.target[o.attrSelector||"name"]].value=e),r&&(n.userFormData[t.target[o.attrSelector||"name"]].hasUserTyped=!0))}))}},{key:"addDataAttributeToElement",value:function(t){var e=this;t.addEventListener("input",(function(t){e.updateUserFormData(t,t.target.value,null)})),t.addEventListener("keyup",(function(r){var n=r.which||r.keyCode;e.isValidChar(n)&&(t.setAttribute(l.USER_TYED_INPUT_DATA_ATTRIBUTE,!0),e.updateUserFormData(r,null,!0))})),"select"===t.tagName.toLowerCase()&&t.addEventListener("click",(function(r){t.addEventListener("change",(function(r){t.setAttribute(l.USER_TYED_INPUT_DATA_ATTRIBUTE,!0),e.updateUserFormData(r,null,!0)}))}))}},{key:"isValidChar",value:function(t){return t>47&&t<58||32==t||13==t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}},{key:"getInput",value:function(t){var e=this.userMapping.inputs.find((function(e){return e.mappedField===t}))||{},r=this.getSelectorFromInput(e);return this.form.querySelector(r)}},{key:"selectUserForm",value:function(){return this.userMapping.formIframeWrapperSelector?this.getIframeWrapperForm(this.userMapping.formIframeWrapperSelector,this.userMapping.selector):document.querySelectorAll("".concat(this.userMapping.selector,":not([data-zi-mapped-form])"))}},{key:"wait",value:function(t){return new Promise((function(e,r){setTimeout((function(){return e()}),t)}))}},{key:"waitForFieldOrForm",value:(u=e(a().mark((function t(e,r){var n,o,i,s=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:null,!(Date.now()>e)){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,this.wait(r);case 5:if(i=0,n?o=this.getInput(n):(o=this.selectUserForm())&&o.length&&(i=o[0].length),n&&o||!n&&i){t.next=11;break}return t.abrupt("return",this.waitForFieldOrForm(e,r,n));case 11:return t.abrupt("return",o);case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"getIframeWrapperForm",value:function(t,e){for(var r=[],n=document.querySelectorAll(t),o=0;o<n.length;o++){var i=n[o].contentDocument.querySelector("".concat(e,":not([data-zi-mapped-form])"));i&&r.push(i)}return r}},{key:"inputTypingHandler",value:(s=e(a().mark((function t(r,n){var o,i,s=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target.value,this.targetForm=n.target.form||r,i=l.MILLISECONDS_BETWEEN_CHAR_INPUT,this.typingTimeoutId&&(clearTimeout(this.typingTimeoutId),this.typingTimeoutId=null),this.isValidEmail(o)){t.next=6;break}return t.abrupt("return");case 6:o.endsWith("co")&&(i=l.MILLISECONDS_BETWEEN_CHAR_INPUT+50),this.typingTimeoutId=setTimeout(e(a().mark((function t(){var e,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.neverBounceStatus=void 0,s.unifiedScriptEnabled?s.ziConfig.isDevelopmentMode||window._zi_fc.noEmailVerify||s.getNeverbounceStatus(o,s.userMapping._id,n.target,s.targetForm):window._zi.development||window._zi.noEmailVerify||s.getNeverbounceStatus(o,s.userMapping._id,n.target,s.targetForm),s.triggerLifeCycleMethods(l.LIFE_CYCLE_METHODS.ON_REQUEST_SENT,s.userMapping,{email:o}),t.next=5,A.getFormCompleteDataByEmail(o,s.userMapping._id,s.formMatchId,!!s.unifiedScriptEnabled&&s.ziConfig.isDevelopmentMode);case 5:if(s.formCompleteVal=t.sent,s.formCompleteVal.form&&s.formCompleteVal.form.id&&o===s.formCompleteVal.form.email&&s.setNeverbounceStatus("valid",n.target),s.formMatchId=s.formCompleteVal.formMatchId,e=s.formCompleteVal.form||{},r=s.formCompleteVal.userForm||{},i={},s.userMapping.inputs.map((function(t){s.userFormData[t.nameAttr]||(s.userFormData[t.nameAttr]={}),s.userFormData[t.nameAttr].value="email"===t.nameAttr?o:null==r?void 0:r[t.nameAttr],i[t.nameAttr]=s.formCompleteVal.userForm?r[t.nameAttr]:e[t.mappedField]})),0!==Object.keys(s.formCompleteVal).length||s.userMapping.formShorteningEnabled){t.next=15;break}return s.triggerLifeCycleMethods(l.LIFE_CYCLE_METHODS.ON_MATCH,s.userMapping,i),t.abrupt("return");case 15:s.updateInputsWithFormCompleteData(s.targetForm),s.triggerLifeCycleMethods(l.LIFE_CYCLE_METHODS.ON_MATCH,s.userMapping,i);case 17:case"end":return t.stop()}}),t)}))),i);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"getSelectorFromInput",value:function(t){var e='[name="'.concat(t.nameAttr,'"]');return t.attrSelector&&(e="class"===t.attrSelector?"."+t.nameAttr.split(" ").join("."):"[".concat(t.attrSelector,"='").concat(t.nameAttr,"']"),t.secondAttr&&(e+="[".concat(t.secondAttr.attrSelector,"='").concat(t.secondAttr.nameAttr,"']"))),e}},{key:"updateRemainingElements",value:function(){this.updateInputsWithFormCompleteData("updateRemainingElements")}},{key:"updateInputsWithFormCompleteData",value:(i=e(a().mark((function t(e,r){var n,o,i,s,u,c,f,d,h,m,y,v,g,b=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=!1,"updateRemainingElements"===e&&(s=!0,e=this.form),u=document.activeElement,c=null===(n=e)||void 0===n||null===(n=n.classList)||void 0===n||null===(o=n.contains)||void 0===o?void 0:o.call(n,"hs-form"),f={},s?f=this.userFormData||(null===(d=this.formCompleteVal)||void 0===d?void 0:d.userForm)||(null===(h=this.formCompleteVal)||void 0===h?void 0:h.form)||{}:this.formCompleteVal&&(f=this.formCompleteVal.userForm||this.formCompleteVal.form||{}),this.userMapping.inputs.map((function(t){var n,o,i;if(!s){if("email"===t.mappedField)return;if(r&&"nbStatus"!==t.mappedField)return}var a=b.getSelectorFromInput(t),u=e.querySelector(a);if(u){var d=null!==(n=b.formCompleteVal)&&void 0!==n&&n.userForm?f[t.nameAttr]:f[t.mappedField],h=null===(o=b.userFormData)||void 0===o?void 0:o[t.nameAttr];s&&("email"===t.mappedField&&(window._zi.noEmailVerify||window._zi_fc.noEmailVerify)&&(u.dataset.ziNeverbounceStatus=""),b.addDataAttributeToElement(u),!0===(null==h?void 0:h.hasUserTyped)&&u.setAttribute(l.USER_TYED_INPUT_DATA_ATTRIBUTE,!0),d=null==h?void 0:h.value);var m,y,v,g="true"===u.getAttribute(l.USER_TYED_INPUT_DATA_ATTRIBUTE),E=u.value,w=(null===(i=d)||void 0===i?void 0:i.toString())||"";"nbStatus"===t.mappedField&&(d=null!==(m=b.formCompleteVal)&&void 0!==m&&m.form&&null!==(y=b.formCompleteVal)&&void 0!==y&&null!==(y=y.form)&&void 0!==y&&y.id?"valid":b.neverBounceStatus,"catchall"===b.neverBounceStatus&&(d="unverifiable")),!u||g&&!s||((u.tagName===t.elementType?t.elementType:u.tagName)===l.SELECT_ELEMENT_NAME?(b.getSelectElOptions(u).some((function(t){return t===d}))||!d?b.setElementValue(u,d):(b.setElementValue(u,""),p('Result "'.concat(d,'" is not a value of any option in the select element "').concat(u.name,'". \n Make sure the field is mapped correctly at the FormComplete Management page.'))),E!==w&&b.triggerEvent(u,"change",{bubbles:!0})):(b.setElementValue(u,d),E!==w&&(c?(b.triggerEvent(u,"input",{bubbles:!0}),setTimeout((function(){u.value!==w&&b.setElementValue(u,d),b.triggerEvent(u,"input",{bubbles:!0})}),10)):b.triggerEvent(u,"input",{bubbles:!0})),b.inputTriggerCustomEvent&&b.triggerEvent(u,b.inputTriggerCustomEvent,{bubbles:!0}),b.unifiedScriptEnabled?null!==(v=b.ziConfig)&&void 0!==v&&null!==(v=v.additionalSettings)&&void 0!==v&&v.noFocus||u.focus():window._zi.noFocus||u.focus())),s&&"email"===t.mappedField&&u.addEventListener("input",b.inputTypingHandler.bind(b,e))}})),this.unifiedScriptEnabled?null!==(m=this.ziConfig)&&void 0!==m&&null!==(m=m.additionalSettings)&&void 0!==m&&m.noFocus||null==u||null===(y=u.focus)||void 0===y||y.call(u):window._zi.noFocus||null==u||null===(v=u.focus)||void 0===v||v.call(u),!r){t.next=11;break}return t.abrupt("return");case 11:window._zi.cacheToHiddenElement&&this.createHiddenElementAndInsertFormResponse((null===(g=this.formCompleteVal)||void 0===g?void 0:g.form)||{},e),this.formCompleteData=(null===(i=this.formCompleteVal)||void 0===i?void 0:i.form)||{};case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"setElementValue",value:function(t,e){if("input"!==t.tagName.toLowerCase()&&"select"!==t.tagName.toLowerCase()&&((t=t.querySelector("input"))||(t=t.querySelector("select"))),t){delete t.value,t.value=e||"";var r=this.findWrapperEl(t);r&&(r.dataset.ziFieldEnriched=!!e),t.dataset.ziInputEnriched=!!e}}},{key:"createHiddenElementAndInsertFormResponse",value:function(t,e){var r=document.querySelector("input[name='"+l.HIDDEN_INPUT_NAME+"']");if(r)return r.setAttribute("value",JSON.stringify(t));(r=document.createElement("input")).setAttribute("type","hidden"),r.setAttribute("name",l.HIDDEN_INPUT_NAME),r.setAttribute("value",JSON.stringify(t)),e.appendChild(r)}},{key:"getUserData",value:function(t){var e,r,n=this,o={};return this.userMapping.inputs.map((function(i){var a,s,u,c=n.getSelectorFromInput(i),l=t.querySelector(c);o[i.nameAttr]=l?l.value:void 0,o[i.nameAttr]||(o[i.nameAttr]=null===(a=n.userFormData)||void 0===a||null===(a=a[i.nameAttr])||void 0===a?void 0:a.value),"email"===i.mappedField&&(l&&("INPUT"!==l.nodeName&&(l=l.querySelector("input")),e=l.value,r=l.dataset.ziNeverbounceStatus),e||(e=null===(s=n.userFormData)||void 0===s||null===(s=s[i.nameAttr])||void 0===s?void 0:s.value),r||(r=null===(u=n.userFormData)||void 0===u||null===(u=u.ziNeverbounceStatus)||void 0===u?void 0:u.value))})),{email:e,neverbounceStatus:r,userData:o}}},{key:"isValidEmail",value:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}},{key:"triggerLifeCycleMethods",value:function(t,e,r){this.unifiedScriptEnabled&&null!=e&&e.formShorteningEnabled&&this.hideOrShowElements(t,e,r),this.unifiedScriptEnabled&&window._zi_fc[t]&&"function"==typeof window._zi_fc[t]&&window._zi_fc[t].call(e,r),this.ziConfig.callbacks&&"function"==typeof this.ziConfig.callbacks[t]&&this.ziConfig.callbacks[t].call(e,r)}},{key:"hideOrShowElements",value:function(t,e,r){var n=this;if(l.LIFE_CYCLE_METHODS.ON_READY===t){var o=document.getElementsByClassName("hs-form-iframe");if(o)for(var i=0;i<o.length;i+=1)o[i].contentDocument.querySelector(r.formSelector)&&this.hideElements(o[i].contentDocument,r);this.hideElements(document,r)}if(l.LIFE_CYCLE_METHODS.ON_MATCH===t){var a=this.targetForm||this.getContext(e.selector),s=function(t){var o=e.inputs.find((function(e){return e.nameAttr===t})),i=null!=o&&o.attrSelector?null==o?void 0:o.attrSelector:"name",s=a.querySelector(e.selector+" ["+i+'="'+t+'"]');if(!s||"hidden"==s.getAttribute("type"))return 1;var u=n.findEl(s);null==r[t]||"false"==s.getAttribute("data-zi-input-enriched")?u.style.display="":u.style.display="none"};for(var u in r)s(u)}}},{key:"hideElements",value:function(t,e){var r=this;e.inputs.forEach((function(n){t.querySelectorAll(e.formSelector+" "+n).forEach((function(t){t&&"hidden"!=t.getAttribute("type")&&(r.findEl(t).style.display="none")}))}))}},{key:"findEl",value:function(t){var e=t.parentElement;return e.querySelectorAll("input").length+e.querySelectorAll("select").length>1?t:this.findEl(e)}},{key:"getContext",value:function(t){var e=document.getElementsByClassName("hs-form-iframe");if(e)for(var r=0;r<e.length;r+=1)if(e[r].contentDocument.querySelector(t))return e[r].contentDocument;return document}},{key:"triggerEvent",value:function(t,e,r){var n=this.createNewEvent(e,r);return t.dispatchEvent(n)}},{key:"createNewEvent",value:function(t,e){var r;return"function"==typeof Event?r=new Event(t,e):(r=document.createEvent("Event")).initEvent(t,!0,!0),r}},{key:"getNeverbounceStatus",value:function(){var t=e(a().mark((function t(e,r,n,o){var i,s,u=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.dataset.ziNeverbounceStatus="",i=Math.random(),this.ziConfig.nbid=i,setTimeout((function(){return u.setNeverbounceStatus("unknown",n)}),3e3),t.prev=4,t.next=7,A.getNeverbounceStatus(e,r);case 7:s=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),s="unknown";case 13:return this.neverBounceStatus=s,this.updateNeverBounceValue(i,o),t.abrupt("return",this.setNeverbounceStatus(s,n,i));case 16:case"end":return t.stop()}}),t,this,[[4,10]])})));return function(e,r,n,o){return t.apply(this,arguments)}}()},{key:"updateNeverBounceValue",value:function(t,e){this.ziConfig.nbid===t&&this.updateInputsWithFormCompleteData(e,!0)}},{key:"setNeverbounceStatus",value:function(t,e,r){e.dataset.ziNeverbounceStatus||this.ziConfig.nbid!==r||(e.dataset.ziNeverbounceStatus=t,this.userFormData.ziNeverbounceStatus={value:t})}},{key:"getSelectElOptions",value:function(t){var e=[];if(!t.options&&!t.options.length)return e;for(var r=0;r<t.options.length;r++){var n=t.options[r];n.value&&e.push(n.value)}return e}},{key:"triggerEmailInputOnInit",value:function(){var t=this.userMapping.inputs.find((function(t){return"email"===t.mappedField}));if(t){var e=this.getSelectorFromInput(t),r=this.form.querySelector(e);r&&r.value&&this.triggerEvent(r,"input",{bubbles:!0})}}},{key:"findWrapperEl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return!t||!t.parentElement||["FORM","BODY"].includes(t.tagName)||e>15?null:t.parentElement.querySelectorAll("input").length>1?t:this.findWrapperEl(t.parentElement,e++)}},{key:"submitFormCompleteAndUserData",value:(o=e(a().mark((function t(e){var r,n,o,i,s,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.formMatchId){t.next=3;break}return(null!==(r=this.entitlement)&&void 0!==r&&r.schedule||null!==(n=window)&&void 0!==n&&null!==(n=n.zischedule)&&void 0!==n&&n.triggerSchedule)&&this.getFormDataAndTriggerSchedule(e),t.abrupt("return");case 3:if(o=this.getUserData(e||this.form),i=o.email,s=o.neverbounceStatus,u=o.userData,window._zi.noEmailVerify||window._zi_fc.noEmailVerify||(s=s||"unknown"),this.isValidEmail(i)){t.next=8;break}return t.abrupt("return");case 8:return this.triggerSchedule(u),c=this.userMapping._id,t.next=12,A.sendMatchedAndUserInputData(i,this.formMatchId,this.formCompleteData,u,c,!1,s);case 12:this.formMatchId="";case 13:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getFormDataAndTriggerSchedule",value:function(t){var e=this.getUserData(t||this.form),r=e.email,n=e.userData;this.isValidEmail(r)&&this.triggerSchedule(n)}},{key:"triggerSchedule",value:function(t){var e,r;if(null!==(e=this.entitlement)&&void 0!==e&&e.schedule||null!==(r=window)&&void 0!==r&&null!==(r=r.zischedule)&&void 0!==r&&r.triggerSchedule){var n=[];this.userMapping.inputs.forEach((function(e){if(t[e.nameAttr]){var r,o={key:e.mappedField,name:e.nameAttr,type:"string",fieldType:null===(r=e.elementType)||void 0===r?void 0:r.toUpperCase(),required:!1,value:t[e.nameAttr]};"email"===o.key&&(o.type="email",o.required=!0),n.push(o)}})),window._zi_fc.postSubmissionEvent?parent.postMessage({eventId:"fc-schedule-event",formId:this.ziConfig.formId,form:n},"*"):window.zischedule.triggerSchedule(this.ziConfig.formId,n)}}},{key:"getFormMapping",value:function(){var t=this;return{formSelector:this.userMapping.selector,inputs:this.userMapping.inputs.filter((function(t){return"email"!==t.mappedField})).map((function(e){return t.getSelectorFromInput(e)}))}}},{key:"initForms",value:(n=e(a().mark((function t(r,n,o,i){var s,u,c=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.form=r,(s=this.getInput("email"))||!i){t.next=6;break}return t.next=5,this.waitForFieldOrForm(n,o,"email");case 5:s=t.sent;case 6:if(s){t.next=8;break}return t.abrupt("return",p("The email input element was not found in the document. Make sure the email input is mapped correctly at the FormComplete Management page."));case 8:this.form.dataset.ziMappedForm="",s.addEventListener("input",this.inputTypingHandler.bind(this,r)),(window._zi.noEmailVerify||window._zi_fc.noEmailVerify)&&(s.dataset.ziNeverbounceStatus=""),this.userMapping.inputs.forEach((function(t){var e=c.getSelectorFromInput(t),r=c.form.querySelector(e);r?c.addDataAttributeToElement(r):window._zi_fc.unifiedScriptEnabled||p('Field "'.concat(t.nameAttr,'" was mapped but could not be found. Make sure the field element is mapped correctly at the FormComplete Management page.'))})),this.ziConfig.submitForm=this.submitFormCompleteAndUserData.bind(this),this.ziConfig.updateElements=this.updateRemainingElements.bind(this),u=this,r.addEventListener("submit",e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.submitFormCompleteAndUserData(r);case 2:case"end":return t.stop()}}),t)})))),this.triggerEmailInputOnInit();case 17:case"end":return t.stop()}}),t,this)}))),function(t,e,r,o){return n.apply(this,arguments)})},{key:"checkScheduleEntitlement",value:function(){var t=e(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.checkScheduleEntitlement(e);case 2:this.entitlement=t.sent,this.entitlement&&this.entitlement.schedule&&this.initScheduleScript();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listenToPostMessage",value:function(){window.addEventListener("message",(function(t){var e,r,n=t.data;(null!==(e=this.entitlement)&&void 0!==e&&e.schedule||null!==(r=window)&&void 0!==r&&null!==(r=r.zischedule)&&void 0!==r&&r.triggerSchedule)&&"fc-schedule-event"===(null==n?void 0:n.eventId)&&window.zischedule.triggerSchedule(n.formId,n.form)}))}},{key:"initScheduleScript",value:function(){var t=window.zischedule||{};t.queue=[],t.SCRIPT_VERSION="0.1.3",t.methods=["triggerSchedule"],t.factory=function(e){return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),t.queue.push(r),t}},t.methods.forEach((function(e){t[e]=t.factory(e)})),window.zischedule=t;var e=document.createElement("script");e.type="text/javascript",e.charset="utf-8",e.defer=!0,e.src=l.SCHEDULE_URL,"complete"===document.readyState?document.body.appendChild(e):window.addEventListener("load",(function(t){document.body.appendChild(e)}))}}],r&&F(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,o,i,s,u,f}();try{!function(t){null!==(t=window)&&void 0!==t&&null!==(t=t.ZILogs)&&void 0!==t&&t.fc||(window.ZILogs={fc:{info:"",err:""}}),window._zi||(window._zi={}),window._zi_fc||(window._zi_fc={});var e=window,r=e._zi,n=e._zi_fc;if(window._zi_fc.fcScriptEnabled=!0,n.postSubmissionEvent||(new I).listenToPostMessage(),n.projectKey)M(n.projectKey),window._zi_fc.unifiedScriptEnabled=!0;else{if(!r||!Object.keys(r).length)throw new Error("No _zi configuration set.");k()}}()}catch(t){R("[main][catch]",t)}function k(){var t=window,e=t._zi,r=t._zi_fc;if(e.formId)x=[e];else if(e.forms&&Array.isArray(e.forms)&&e.forms.every((function(t){return t.formId})))x=e.forms;else{if(!O||!O.length)throw new Error('"_zi" configuration is set incorrectly.');x=O}(e.development||r.unifiedScriptEnabled&&x.some((function(t){return t.isDevelopmentMode})))&&(window.ZILogs.fc.info+='---- ZoomInfo FormComplete Development Mode ---- \n\n   ZoomInfo FormComplete API accepts only one of the following Email Addresses: ["full-match@zoominfo.com", "partial-match@zoominfo.com", "no-match@zoominfo.com", "person-match@zoominfo.com", "company-match@zoominfo.com"].\n \n   The API will return a Full Match Result, a Partial Match Result or a No Match Result accordingly. \n \n   For any Email Address that is not listed, the API will return a Full Match Result.\n \n ---- ZoomInfo FormComplete Development Mode ----'),r.unifiedScriptEnabled?r.fcTriggerSubmit=z:e.fcTriggerSubmit=z,r.fcRetrigger=U,r.fcUpdateElements=P,x.forEach((function(t){r.unifiedScriptEnabled?function(t){N.apply(this,arguments)}(t):function(t){L.apply(this,arguments)}(t)}))}function M(t){return D.apply(this,arguments)}function D(){return(D=e(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.location.href,n=r.split("?")[0],t.next=5,A.getPageForms({projectKey:e,url:n});case 5:if((O=t.sent)&&O.length){t.next=8;break}return t.abrupt("return");case 8:k(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),R("[fetchForms][catch]",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function L(){return(L=e(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getUserMapping(e.formId);case 2:if(r=t.sent){t.next=5;break}throw new Error("no form mapping is defined");case 5:return n=new I,t.next=8,n.init(e,r);case 8:n.triggerLifeCycleMethods(l.LIFE_CYCLE_METHODS.ON_READY,r,n.getFormMapping());case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=e(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new I,t.next=3,r.init(e,e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){t||(t=x[0].formId);var e=x.find((function(e){return e.formId===t}));if(!e)throw new Error('[fcTriggerSubmit] - formId "'.concat(t,'" not found'));e.submitForm()}function P(){x.forEach((function(t){var e;null==t||null===(e=t.updateElements)||void 0===e||e.call(t)}))}function U(){M(window._zi_fc.projectKey)}function R(t,e){return j.apply(this,arguments)}function j(){return(j=e(a().mark((function t(e,r){var n,o,i,s,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s="Error in FC Client";try{s=(null==r||null===(u=r.toString)||void 0===u?void 0:u.call(r))||JSON.stringify(r)}catch(t){}return window.ZILogs.fc.err+=s,c={error:{message:"".concat(e,"[fcClientError]"),stack:s},url:null===(n=window)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.href,userAgent:null===(o=navigator)||void 0===o?void 0:o.userAgent,timestamp:(new Date).toISOString()},t.next=6,A.errorHandler(null===(i=window)||void 0===i||null===(i=i._zi_fc)||void 0===i?void 0:i.projectKey,c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}})()})();